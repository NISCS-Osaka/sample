<!DOCTYPE html>
<html lang="ja" foxified=""><head><meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>autoplay sample</title>
<body>
<article>
<h1>Factory guidance sample</h1>
<video src="QR1.mp3" type="audio/mpeg" autoplay controls muted  playsinline video id="myVideo"></video><br>
</article>
<script>


window.addEventListener('DOMContentLoaded', () => {
  const video = document.getElementById('myVideo');
  video.muted = true;
  video.volume = 0;

  video.play().then(() => {
    // スマホのタップ操作を検出（PCでも動作するように両方設定）
    const enableSound = () => {
      video.muted = false;
      video.volume = 0.5;
      console.log('音声が有効になりました');
      document.body.removeEventListener('touchstart', enableSound);
      document.body.removeEventListener('click', enableSound);
    };

    document.body.addEventListener('touchstart', enableSound, { once: true });
    document.body.addEventListener('click', enableSound, { once: true });
  }).catch((error) => {
    console.error('自動再生に失敗しました:', error);
  });
});

</script>
</body>
</html>
